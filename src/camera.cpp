#include "camera.h"

/**Function*****************************************************************************************************************
   Synopsys     [ Constructor ]
   Description  []
   SideEffects  []
***************************************************************************************************************************/
Camera::Camera()
{
}

/**Function*****************************************************************************************************************
   Synopsys     [ Destructor ]
   Description  []
   SideEffects  []
***************************************************************************************************************************/
Camera::~Camera()
{
	m_Capture.release();
}

/**Function*****************************************************************************************************************
   Synopsys     [ Constructor ]
   Description  []
   SideEffects  []
***************************************************************************************************************************/
Camera::Camera(const std::string &pRtsp) : m_Capture(pRtsp)
{
	std::cout << __FUNCTION__ << std::endl;
}

/**Function*****************************************************************************************************************
   Synopsys     [ Capture image ]
   Description  []
   SideEffects  []
***************************************************************************************************************************/
bool Camera::getFrame(cv::Mat &p_Img)
{
	bool l_Res = false;
	if( m_Capture.isOpened() ) {
		m_Capture.read(p_Img);
		l_Res = true;
	} else {
		l_Res = false;
	}
	return l_Res;
}
